<!-- ****************************************
     |docname| - main template for this theme
     **************************************** -->
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>7.6. Abstraction &#8212; CISC 187 Course Reader Overview</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/matrixeq.css?v=58BC228F" />
    <link rel="stylesheet" type="text/css" href="../_static/CodeChat.css" />
    <link rel="stylesheet" type="text/css" href="../_static/webgldemo.css?v=B36B48D" />
    <link rel="stylesheet" type="text/css" href="../_static/webglinteractive.css?v=910DF1E1" />
    <link rel="stylesheet" type="text/css" href="../_static/accessibility.css?v=50109A2C" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/637.0fa6cababf056764.css?v=F9484CEF" />
    <link rel="stylesheet" type="text/css" href="../_static/runestone.3eb60bc006ae9a54.css?v=3A5A250C" />



    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/matrixeq.js?v=D64CFA5A"></script>
    <script src="../_static/animationbase.js?v=A043C3A7"></script>
    <script src="../_static/html4css1.css?v=4533ACD3"></script>
    <script src="../_static/webglinteractive.js?v=2B768384"></script>
    <script src="../_static/FileSaver.min.js?v=8408C997"></script>
    <script src="../_static/runtime.66b619f51b746382.bundle.js?v=C3F69EE5"></script>
    <script src="../_static/637.d54be67956c5c660.bundle.js?v=915B1670"></script>
    <script src="../_static/runestone.ecc6dff5cad8b815.bundle.js?v=AE959292"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script src="https://media.ethicalads.io/media/client/ethicalads.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="7.7. Enumerated types" href="enum.html" />
    <link rel="prev" title="7.5. const member functions" href="const.html" />


<link rel="shortcut icon" href="/cisc187-reader/static/favicon.ico" type="image/ico" />



<link rel="canonical" href="https://{{canonical_host}}{{new_server_prefix}}/books/published/{{base_course}}/{{pagepath}}" />


<script>
  eBookConfig = {};
  
    eBookConfig.useRunestoneServices = false;
    eBookConfig.host = 'https://daveparillo.github.io/cisc187-reader/' || 'http://127.0.0.1:8000';
    eBookConfig.app = eBookConfig.host+'/cisc187-reader';
    eBookConfig.course = 'cisc187-reader';
    eBookConfig.basecourse = 'cisc187-reader';
    eBookConfig.isLoggedIn = false;
    eBookConfig.enableCompareMe = eBookConfig.useRunestoneServices;
    eBookConfig.new_server_prefix = '';
  
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.logLevel = 0;
  eBookConfig.loginRequired = false;
  eBookConfig.build_info = "unknown";
  eBookConfig.python3 = true;
  eBookConfig.acDefaultLanguage = 'cpp' ? 'cpp' : 'python'
  eBookConfig.runestone_version = '6.6.2';
  eBookConfig.jobehost = 'https://delicate-frost-8843.fly.dev';
  eBookConfig.proxyuri_runs = '/jobe/index.php/restapi/runs/';
  eBookConfig.proxyuri_files = '/jobe/index.php/restapi/files/';
  eBookConfig.enable_chatcodes = false ? false : false;
  eBookConfig.enableScratchAC = true;

</script>

<!-- Ad Serving Headers Only serve ads to Anonymous Users -->



  </head><body>


<!-- Begin navbar -->
<div id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">

  <div class="container">

    <div class="navbar-header">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type='button' class='navbar-toggle' data-toggle="collapse" data-target=".navbar-ex1-collapse" aria-label="navbar toggle">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div>
        
        
          <div class="brand-logo"><img src="../_static/img/RAIcon.png" alt=""></div>
        
        <a class="navbar-brand" href="../index.html" aria-label="index-page">
          
          cisc187-reader
        </a>
      </div>
    </div>



    <div class="navbar-collapse collapse navbar-ex1-collapse">
      <ul class="nav navbar-nav navbar-right" >

        <li class="divider-vertical"></li>

        <!-- social media dropdown -->
        <!-- end social media dropdown -->

        <li class="divider-vertical"></li>
        <!-- search dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-search" style='opacity:0.9;'><span class="visuallyhidden" aria-label="Search">Search</span></i>
          </a>
          <ul class='dropdown-menu'>
            
                <li><a href='../index.html' aria-label="index-page">Table of Contents</a></li>
            
            <li><a href='../genindex.html'>Book Index</a></li>
            <li class="divider"></li>
            <li style="width: 240px;">
              <form class="navbar-search" style="margin:10px;" action="../search.html" method="get">
                <div class="input-group">
                  <input type="text" class="form-control" name="q" placeholder="Search this book" />
                  <span class="input-group-btn">
                    <button class="btn btn-primary" style="margin:0;" type="submit">
                      <i class="glyphicon glyphicon-search"></i>
                    </button>
                  </span>
                </div><!-- /input-group -->
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
            </li>
          </ul>
        </li>
        <!-- end search dropdown -->

        <li class="divider-vertical"></li>

        
        <li class="divider-vertical"></li>
        <!-- <li id="scratch_ac_link"><a href="javascript:ACFactory.toggleScratchActivecode()">Scratch ActiveCode</a></li> -->

        <!-- <li class="dropdown">             -->
          <li id="scratch_ac_link" class="dropdown"><a href="javascript:runestoneComponents.popupScratchAC()">
              <i class="glyphicon glyphicon-pencil" style="opacity:0.9;"><span class="visuallyhidden" aria-label="Scratch Activecode" >Scratch Activecode</span></i></a></li>
        <!-- </li> -->

        <li class="divider-vertical"></li>

        
      </ul>

      <ul class="nav navbar-nav">
        <li class="divider-vertical"></li>
        
          
          <li class="divider-vertical"></li>
        
        <!-- 
          
  <li id="relations-prev" title="Previous Chapter - <span class="section-number">7.5. </span><code class="docutils literal notranslate"><span class="pre">const</span></code> member functions" data-toggle="tooltip">
    <a href="const.html" >
      <i class='glyphicon glyphicon-backward' style='opacity:0.9;'></i>
    </a>
  </li>
  
  <li id="relations-next" title='Next Chapter - <span class="section-number">7.7. </span>Enumerated types' data-toggle="tooltip" >              
    <a href="enum.html" >
        <i class='glyphicon glyphicon-forward' style='opacity:0.9;'></i>
    </a>
  </li>
  <li class="divider-vertical"></li>

<script>
  opts = {'placement':'bottom',
          'selector': '',
          'delay': { show: 100, hide: 50}
         };

  window.addEventListener('load', (event) => {
    $('#relations-prev').tooltip(opts);
    $('#relations-next').tooltip(opts);
  });
</script>
        -->
        
          <li></li>
        
      </ul>
      </div> <!-- navbar-collapse -->
    </div> <!-- navbar -->
  </div> <!-- container -->


<div class="container" id="continue-reading"></div>

<div class="container" id="main-content" role="main">

<!-- Ad Serving for Runestone Campaign -->


  
  <section id="abstraction">
<span id="index-0"></span><h1><span class="section-number">7.6. </span>Abstraction<a class="headerlink" href="#abstraction" title="Permalink to this heading">¶</a></h1>
<p>Most programming constructs are <em>abstractions</em>.
For example, even the idea of <strong>number</strong> on a computer is an abstraction.</p>
<p>Programmers need to define, manipulate, and store numbers.
Each language and compiler implements specific properties and operations.
C++ defines Integral types and Floating point types.
However, these numbers are <strong>not</strong> the numbers you learned in your math classes.
In math, you learned that:</p>
<ul class="simple">
<li><p>The set of integers is infinite</p></li>
<li><p>There is only 1 value for 0</p></li>
<li><p><span class="math notranslate nohighlight">\(0.1 * 10\)</span> exactly equals 1</p></li>
</ul>
<p>None of these things are guaranteed true on a computer.</p>
<p>It depends on the abstractions used in your language.
In C++, no numbers are infinite.
Some numbers can only store positive values.
The floating point numbers have two different representations for the value <span class="math notranslate nohighlight">\(0\)</span>.
Decimal numbers that have exact values in mathematics can only be approximated in C++.</p>
<p>Even with all these limitations,
numeric types in C++ are quite useful.
They achieve the goal of allowing programmers to work with numbers easily
without having to worry much about how they are actually represented in hardware.</p>
<p>Abstraction is all about hiding implementation details.</p>
<p>Consider a car as an example of abstraction in design.
Here’s an outline for starting a Model-T in 1915 <a class="footnote-reference brackets" href="#f1" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a> :</p>
<ol class="arabic simple">
<li><p>On front of car,
pull chock near right fender and engage crank lever under radiator.</p>
<ul class="simple">
<li><p>Turn slowly to prime carburetor.</p></li>
</ul>
</li>
<li><p>Get into car, insert key in ignition.</p>
<ul class="simple">
<li><p>Turn start setting to either magneto or battery.</p></li>
<li><p>Adjust timing stalk and throttle stalk.</p></li>
<li><p>Pull back on handbrake to place car in neutral.</p></li>
</ul>
</li>
<li><p>Return to front of car.</p>
<ul class="simple">
<li><p>Use left hand to crank lever.
(If the engine back-fires,
using your left hand results in fewer broken arms)</p></li>
</ul>
</li>
<li><p>If car starts, jump in!</p></li>
</ol>
<p>The Model-T was one of the most popular cars ever made.
It had no frills and few abstractions.
You had to understand how it was <em>made</em> even to get it started.</p>
<p>This is not true with most cars today.
Compare the previous steps with starting a car today:</p>
<ol class="arabic simple">
<li><p>Step on brake pedal and push button.</p></li>
</ol>
<p>Over the last 100 years
manufacturers have hidden most implementation details
even though cars today are far more complex than a Model T.</p>
<section id="class-abstractions">
<h2><span class="section-number">7.6.1. </span>Class abstractions<a class="headerlink" href="#class-abstractions" title="Permalink to this heading">¶</a></h2>
<p>The design principles that apply to <em>everyday objects</em> also apply to <em>software objects</em>.</p>
<ul class="simple">
<li><p>Hide as many details as possible</p></li>
<li><p>Don’t hide too many</p></li>
</ul>
<p>You, as the designer of a class are responsible for getting the abstractions
correct in the classes you design.
Keep in mind that every class defines a new <em>type</em>.
In general we want to create classes that are easy to use
and easy to modify.</p>
<p>Let’s examine a poorly abstracted car class:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Car</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">private</span><span class="o">:</span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">speed_</span><span class="p">;</span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">heading_</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w">    </span><span class="n">x_</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w">    </span><span class="n">y_</span><span class="p">;</span>
<span class="w">  </span><span class="k">public</span><span class="o">:</span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">speed</span><span class="w"> </span><span class="p">();</span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="nf">heading</span><span class="w"> </span><span class="p">();</span>
<span class="w">    </span><span class="kt">int</span><span class="w">    </span><span class="nf">x</span><span class="w"> </span><span class="p">();</span>
<span class="w">    </span><span class="kt">int</span><span class="w">    </span><span class="nf">y</span><span class="w"> </span><span class="p">();</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">speed</span><span class="w"> </span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">speed</span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">heading</span><span class="w"> </span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">direction</span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">x</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">new_x</span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">y</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">new_y</span><span class="p">);</span>
<span class="p">};</span>
</pre></div>
</div>
<p>What is wrong with this design?</p>
<ul class="simple">
<li><p>We have created a class and dutifully made all of the class variables private.</p></li>
<li><p>We then (also dutifully) created functions to set and get each of the class member variables.</p></li>
</ul>
<p>Isn’t this is what object-oriented programming is all about?</p>
<p>No, it is not.</p>
<p>What is wrong with this design?
This list is long, but here are some of the major problems:</p>
<ol class="arabic simple">
<li><p>By default, no class members are initialized.
A default constructed car is invalid.</p></li>
<li><p>It is still functionally a <code class="docutils literal notranslate"><span class="pre">struct</span></code>, even though this class has invariants.</p>
<ul class="simple">
<li><p>The x and y values can be modified independently of speed and heading.</p></li>
<li><p>The speed could be set <span class="math notranslate nohighlight">\(&lt; 0\)</span>.</p></li>
<li><p>The heading could be anything. It’s not even clear what values are valid
(<span class="math notranslate nohighlight">\(0 - 360\)</span>?  <span class="math notranslate nohighlight">\(0 - 2\pi\)</span>?)</p></li>
</ul>
</li>
<li><p>The car position is maintained in two separate <code class="docutils literal notranslate"><span class="pre">int</span></code> members, not a location object.</p></li>
<li><p>If users try to use this <code class="docutils literal notranslate"><span class="pre">Car</span></code>,
then <strong>they</strong> are responsible for calculating correct x and y
from the current heading and speed.</p></li>
<li><p>Fundamentally, this is not how cars are operated.</p>
<ul class="simple">
<li><p>A car has a steering wheel and at least 1 pedal to accelerate</p></li>
<li><p>Cars only change position when moving</p></li>
<li><p>Cars only change direction when moving AND when the steering wheel is turned</p></li>
<li><p>The steering wheel has limits to keep the tires aligned with the forward momentum.</p></li>
</ul>
</li>
</ol>
<p>How can we improve the abstractions in our car class?</p>
<p>First, group the x and y coordinates into a single type.
We could do just this:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// a location on a Cartesian grid</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">Point</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span>
<span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<p>This works, but it’s not much fun to use.
When using <code class="docutils literal notranslate"><span class="pre">Point</span></code> objects, we will often want to initialize both the x and y values at once:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">Point</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="p">{</span><span class="mf">3.0</span><span class="p">,</span><span class="mf">3.0</span><span class="p">};</span>
</pre></div>
</div>
<p>The default constructors won’t do this automatically.
We need a 2 argument constructor:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">Point</span><span class="w"> </span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">x_value</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">y_value</span><span class="p">)</span>
<span class="w">    </span><span class="o">:</span><span class="w"> </span><span class="n">x</span><span class="p">{</span><span class="n">x_value</span><span class="p">},</span><span class="w"> </span><span class="n">y</span><span class="p">{</span><span class="n">y_value</span><span class="p">}</span>
<span class="p">{}</span>
</pre></div>
</div>
<p>Once a non-default constructor is added to a class,
the compiler will <strong>not</strong> automatically generate the default constructor for us,
so we need to be explicit:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">Point</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">default</span><span class="p">;</span>
</pre></div>
</div>
<p>And putting them together we have very minimal class:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// a location on a Cartesian grid</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">Point</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span>
<span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span>
<span class="w">  </span><span class="n">Point</span><span class="w"> </span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">x_value</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">y_value</span><span class="p">)</span>
<span class="w">      </span><span class="o">:</span><span class="w"> </span><span class="n">x</span><span class="p">{</span><span class="n">x_value</span><span class="p">},</span><span class="w"> </span><span class="n">y</span><span class="p">{</span><span class="n">y_value</span><span class="p">}</span>
<span class="w">  </span><span class="p">{}</span>
<span class="w">  </span><span class="n">Point</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">default</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<p>We can’t consider this class complete, but we will stop with Point for now and move onto the Car class.
When we use Point, we should prevent <code class="docutils literal notranslate"><span class="pre">Car</span></code> users from changing it directly:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Car</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">private</span><span class="o">:</span>
<span class="w">    </span><span class="n">Point</span><span class="w">  </span><span class="n">location_</span><span class="p">;</span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">speed_</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">heading_</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span>

<span class="w">  </span><span class="k">public</span><span class="o">:</span>
<span class="w">    </span><span class="n">Point</span><span class="w">  </span><span class="n">location</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="nf">speed</span><span class="p">()</span><span class="w">    </span><span class="k">const</span><span class="p">;</span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="nf">heading</span><span class="p">()</span><span class="w">  </span><span class="k">const</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<p>It is OK to keep the access functions for speed and heading.
<code class="docutils literal notranslate"><span class="pre">Car</span></code> users are likely to need this information,
but they should never set them directly.
We should also promise that these functions will never change the state
of a <code class="docutils literal notranslate"><span class="pre">car</span></code> by making all of the access functions <code class="docutils literal notranslate"><span class="pre">const</span></code>.</p>
<p>In order to make our car more ‘real’,
we should add two more private member variables,
one for the current steer angle and one for the current change in speed.
Users are never given access to these, but internally a Car can use them to
compute a new location:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Car</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">private</span><span class="o">:</span>
<span class="w">    </span><span class="n">Point</span><span class="w">  </span><span class="n">location_</span><span class="p">;</span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">speed_</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">heading_</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">angle_</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">  </span><span class="c1">// current steering angle</span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">rate_</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">  </span><span class="c1">// current change in speed</span>

<span class="w">  </span><span class="k">public</span><span class="o">:</span>
<span class="w">    </span><span class="n">Point</span><span class="w">  </span><span class="n">location</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="nf">speed</span><span class="p">()</span><span class="w">    </span><span class="k">const</span><span class="p">;</span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="nf">heading</span><span class="p">()</span><span class="w">  </span><span class="k">const</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<p>Since users can’t change steer angle directly, there needs to be come way to influence that value.
One way is to define an enumerated type to set the angle on the steering wheel:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">enum</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">Direction</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">CENTER</span><span class="p">,</span><span class="w"> </span><span class="n">LEFT</span><span class="p">,</span><span class="w"> </span><span class="n">RIGHT</span><span class="w"> </span><span class="p">};</span>
</pre></div>
</div>
<p>With these parts added,
we can add public functions that use them:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//</span>
<span class="c1">// Users steer the car by choosing a steer direction.</span>
<span class="c1">// As long as a direction is applied, the steer angle will increase (or decrease)</span>
<span class="c1">// towards the indicated direction until the max steering angle</span>
<span class="c1">// for the car is reached.</span>
<span class="c1">//</span>
<span class="c1">// The max steer angle might be Car make/model dependent.</span>
<span class="c1">//</span>
<span class="kt">double</span><span class="w"> </span><span class="nf">steer</span><span class="w"> </span><span class="p">(</span><span class="n">Direction</span><span class="w"> </span><span class="n">dir</span><span class="p">);</span>

<span class="c1">//</span>
<span class="c1">// Change the car speed by (de)accelerating.</span>
<span class="c1">// Positive values will increase car speed.</span>
<span class="c1">// Negative values will reduce car speed.</span>
<span class="c1">// Zero values leave the car speed unchanged.</span>
<span class="kt">double</span><span class="w"> </span><span class="nf">accelerate</span><span class="w"> </span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">rate</span><span class="p">);</span>
</pre></div>
</div>
<p>And finally, an <code class="docutils literal notranslate"><span class="pre">update</span></code> function a car simulator might call to
modify the state of the car every time step.
Putting it all together:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// a location on a Cartesian grid</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">Point</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span>
<span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span>
<span class="w">  </span><span class="n">Point</span><span class="w"> </span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">x_value</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">y_value</span><span class="p">)</span>
<span class="w">      </span><span class="o">:</span><span class="w"> </span><span class="n">x</span><span class="p">{</span><span class="n">x_value</span><span class="p">},</span><span class="w"> </span><span class="n">y</span><span class="p">{</span><span class="n">y_value</span><span class="p">}</span>
<span class="w">  </span><span class="p">{}</span>
<span class="w">  </span><span class="n">Point</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">default</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">enum</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">Direction</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">CENTER</span><span class="p">,</span><span class="w"> </span><span class="n">LEFT</span><span class="p">,</span><span class="w"> </span><span class="n">RIGHT</span><span class="w"> </span><span class="p">};</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Car</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">private</span><span class="o">:</span>
<span class="w">    </span><span class="n">Point</span><span class="w">  </span><span class="n">location_</span><span class="p">;</span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">speed_</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">heading_</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">angle_</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">rate_</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>

<span class="w">  </span><span class="k">public</span><span class="o">:</span>
<span class="w">    </span><span class="n">Point</span><span class="w">  </span><span class="n">location</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="nf">speed</span><span class="p">()</span><span class="w">    </span><span class="k">const</span><span class="p">;</span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="nf">heading</span><span class="p">()</span><span class="w">  </span><span class="k">const</span><span class="p">;</span>

<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="nf">steer</span><span class="w"> </span><span class="p">(</span><span class="n">Direction</span><span class="w"> </span><span class="n">dir</span><span class="p">);</span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="nf">accelerate</span><span class="w"> </span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">rate</span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w">   </span><span class="nf">update</span><span class="p">();</span>
<span class="p">};</span>
</pre></div>
</div>
<p>Actually implementing these functions is a lab assignment.</p>
<p>While this class is far from complete,
at least now we have a design that we can extend without needing to completely
change it later once we realize it did not control any of its invariants.</p>
<hr class="docutils" />
<div class="admonition-more-to-explore admonition">
<p class="admonition-title">More to Explore</p>
<ul class="simple">
<li><p><a class="reference external" href="https://en.cppreference.com/w/cpp/language/enum">C++ enumerations</a></p></li>
<li><p><a class="reference external" href="https://en.cppreference.com/w/cpp/language/default_constructor">Default constructors</a></p></li>
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Abstraction_(computer_science)#Abstraction_in_object_oriented_programming">Abstraction in OOP</a></p></li>
</ul>
</div>
<aside class="topic">
<p class="topic-title">Footnotes</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="f1" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p>From <a class="reference external" href="https://www.caranddriver.com/features/how-to-drive-a-ford-model-t">https://www.caranddriver.com/features/how-to-drive-a-ford-model-t</a></p>
</aside>
</aside>
</aside>
</section>
</section>


  

  <div id="scprogresscontainer">
    You have attempted <span id="scprogresstotal"></span> of <span id="scprogressposs"></span> activities on this page <div id="subchapterprogress" aria-label="Page progress"></div>
  </div>

  <ul role="navigation" class="nextprev-list nextprev-list" aria-label="Change page">
<li id="relations-prev" class="navLink" title='Previous Section - 7.5.  const  member functions' data-toggle="tooltip">
  <a href="const.html" aria-label="Previous - 7.5.  const  member functions">
    <i class='prevNav glyphicon glyphicon-chevron-left'  style="top:50%; transform:translateY(-50%)translateX(-50%); left: 50%; color:black;"></i>
  </a>
</li>

  <li id="relations-next" class="navLink" title='Next Section - 7.7. Enumerated types' data-toggle="tooltip" >
    <a href="enum.html" aria-label="Next - 7.7. Enumerated types">
      <i id="relationsNextIcon" class='nextNav glyphicon glyphicon-chevron-right' style="top:50%; transform:translateY(-50%)translateX(-50%); left: 50%; color:black; "></i>
    </a>
  </li>
</ul>

<script>
window.addEventListener('load', (event) => {
  $('#relations-prev').tooltip({'placement': 'right', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement': 'left', 'delay': { show: 100, hide: 50}});
});
</script>

</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      
      | <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2017-2023 Dave Parillo.
      Created using <a href="http://runestoneinteractive.org/">Runestone</a> 6.6.2.
    </p>
  </div>
</footer>




<script>
  window.addEventListener('load', (event) => {
    runestoneComponents.getSwitch();
  });
</script>


  </body>
</html>